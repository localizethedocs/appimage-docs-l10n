

<!DOCTYPE html>
<html class="writer-html5" lang="zh-CN" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Signing AppImages &mdash; AppImage  文档</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=03e43079" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/custom.css?v=5111789f" />

  
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="canonical" href="https://projects.localizethedocs.org/appimage-docs-l10n/packaging-guide/optional/signatures.html" />
      <script src="../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../_static/documentation_options.js?v=7d86a446"></script>
      <script src="../../_static/doctools.js?v=9bcbadda"></script>
      <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../../_static/translations.js?v=beaddf03"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="索引" href="../../genindex.html" />
    <link rel="search" title="搜索" href="../../search.html" />
    <link rel="next" title="AppStream metadata" href="appstream.html" />
    <link rel="prev" title="Making AppImages updateable" href="updates.html" />
 
<script type="text/javascript" src="../../ltd-provenance.js"></script>
<script type="text/javascript" src="../../ltd-current.js"></script>
<script type="text/javascript" src="../../../../ltd-config.js"></script>
<script type="text/javascript" src="../../../../ltd-flyout.js"></script>

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            AppImage
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="搜索文档" aria-label="搜索文档" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="导航菜单">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../introduction/index.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../user-guide/index.html">User Guide</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Packaging Guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../introduction.html">Introduction to Packaging</a></li>
<li class="toctree-l2"><a class="reference internal" href="../overview.html">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../from-source/index.html">Packaging from source</a></li>
<li class="toctree-l2"><a class="reference internal" href="../converting-binary-packages/index.html">Converting binary packages</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Optional Resources and Features</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="updates.html">Making AppImages updateable</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Signing AppImages</a></li>
<li class="toctree-l3"><a class="reference internal" href="appstream.html">AppStream metadata</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../hosted-services/index.html">Hosted services</a></li>
<li class="toctree-l2"><a class="reference internal" href="../manual.html">Manual packaging</a></li>
<li class="toctree-l2"><a class="reference internal" href="../testing.html">Testing your AppImage</a></li>
<li class="toctree-l2"><a class="reference internal" href="../distribution.html">Distributing AppImages</a></li>
<li class="toctree-l2"><a class="reference internal" href="../environment-variables.html">Environment variables</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../reference/index.html">Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contact.html">Contact</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="移动版导航菜单" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">AppImage</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="页面导航">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../index.html">Packaging Guide</a></li>
          <li class="breadcrumb-item"><a href="index.html">Optional Resources and Features</a></li>
      <li class="breadcrumb-item active">Signing AppImages</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/AppImage/docs.appimage.org/blob/master/source/packaging-guide/optional/signatures.rst" class="fa fa-github"> 在 GitHub 上编辑</a>
      </li>
  </ul><div class="rst-breadcrumbs-buttons" role="navigation" aria-label="顺序式页面导航">
        <a href="updates.html" class="btn btn-neutral float-left" title="Making AppImages updateable" accesskey="p"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> 上一页</a>
        <a href="appstream.html" class="btn btn-neutral float-right" title="AppStream metadata" accesskey="n">下一页 <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
  </div>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="signing-appimages">
<h1>Signing AppImages<a class="headerlink" href="#signing-appimages" title="Link to this heading"></a></h1>
<p>AppImages can be digitally signed by the person that has produced the AppImage. This ensures that the AppImage comes from the person who pretends to be the author, and ensures that the file has not been tampered with.</p>
<p>The AppImages specification allows the AppImage file to carry a digital signature built into the AppImages. This means that the signature does not need to be an external file, but can be carried inside the AppImage itself, similar to how signatures work for traditional Linux packages (such as <code class="code docutils literal notranslate"><span class="pre">.deb</span></code> or <code class="code docutils literal notranslate"><span class="pre">.rpm</span></code> files).</p>
<nav class="contents local" id="contents">
<p class="topic-title">Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#embedding-a-signature-inside-an-appimage" id="id2">Embedding a signature inside an AppImage</a></p></li>
<li><p><a class="reference internal" href="#reading-the-signature" id="id3">Reading the signature</a></p></li>
<li><p><a class="reference internal" href="#validating-the-signature" id="id4">Validating the signature</a></p></li>
</ul>
</nav>
<section id="embedding-a-signature-inside-an-appimage">
<h2><a class="toc-backref" href="#id2" role="doc-backlink">Embedding a signature inside an AppImage</a><a class="headerlink" href="#embedding-a-signature-inside-an-appimage" title="Link to this heading"></a></h2>
<p>While it would be possible to embed signatures manually, the easiest way to produce a digitally signed AppImage is to use the <code class="code docutils literal notranslate"><span class="pre">appimagetool</span></code> command line tool. The internally uses <code class="code docutils literal notranslate"><span class="pre">gpg</span></code> or <code class="code docutils literal notranslate"><span class="pre">gpg2</span></code> if it is installed and configured on the system.</p>
<p>Especially, a key for signing must be prepared before AppImages can be signed. If the machine on which the AppImage is being generated does not have a valid signing key yet, a new one can be generated using</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>gpg2<span class="w"> </span>--full-gen-key
</pre></div>
</div>
<p>Please refer to the <code class="code docutils literal notranslate"><span class="pre">gpg</span></code> or <code class="code docutils literal notranslate"><span class="pre">gpg2</span></code> documentation for additional information. You should take additional care to backup your private and public keys in a secure location.</p>
<p>Once you're signing keys have been set up, you can sign AppImages at AppImage creation time using</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>./appimagetool-x86_64.AppImage<span class="w"> </span>some.AppDir<span class="w"> </span>--sign
</pre></div>
</div>
<p>This will sign the AppImage with <code class="code docutils literal notranslate"><span class="pre">gpg[2]</span></code> and will put the signature into the AppImage.</p>
</section>
<section id="reading-the-signature">
<h2><a class="toc-backref" href="#id3" role="doc-backlink">Reading the signature</a><a class="headerlink" href="#reading-the-signature" title="Link to this heading"></a></h2>
<p>You can display the digital signature that is embedded in AppImage by running the AppImage with the <code class="code docutils literal notranslate"><span class="pre">--appimage-signature</span></code> option like this:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>./XChat_IRC-x86_64.AppImage<span class="w"> </span>--appimage-signature

-----BEGIN<span class="w"> </span>PGP<span class="w"> </span>SIGNATURE-----
Version:<span class="w"> </span>GnuPG<span class="w"> </span>v2

iQEcBAABCAAGBQJX6CN9AAoJENBdKWeGw9/dsvoH/RgEggMiNTwgyA4io2Dyy1j1
6U3CQST9HVmh9PjeFKZCgFCZbHvpFz9mzhLTPlOAbczBnSmmbgqROINaLW+1tqEx
stOy67D3Z1cySzRTOhSkjiUOP5unmZL6QTNPxRHmuRkyihv7YfAlkrogXQlYbZ1h
Ilt6jU1b97GSPox/EE3Z002iZGJYQ3FfjAlp9o947goY5koA5KYqyzTCvEjhTk/L
wz1mFcjEkzHt9CaHZfrZCE3QVSBTq071wzsHCFHaJswPhA6iI0psCnFY56PPResi
uljTQr3nOBaqNyUgU3y4Tbd+36cwggSaTpGAzlhgNoalIwB1ltFSdPeRPe4Q3Qc<span class="o">=</span>
<span class="o">=</span>MR0w
-----END<span class="w"> </span>PGP<span class="w"> </span>SIGNATURE-----
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>Please note that while this displays the signature, it does not validate the signature. In other words, this does not tell you whether the signature is valid or not, or whether the file has been tampered with or not. To validate the signature, an external tool (which is not part of AppImage that needs to be validated) needs to be used.</p>
</div>
</section>
<section id="validating-the-signature">
<h2><a class="toc-backref" href="#id4" role="doc-backlink">Validating the signature</a><a class="headerlink" href="#validating-the-signature" title="Link to this heading"></a></h2>
<p>To validate a signature of an an AppImage and to determine whether an AppImage has been compromised, an external tool needs to be used. There is a very simple tool called <code class="code docutils literal notranslate"><span class="pre">validate</span></code> that can do this.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>chmod<span class="w"> </span>a+x<span class="w"> </span>./validate
$<span class="w"> </span>./validate<span class="w"> </span>./XChat_IRC-x86_64.AppImage

gpg:<span class="w"> </span>Signature<span class="w"> </span>made<span class="w"> </span>Sun<span class="w"> </span><span class="m">25</span><span class="w"> </span>Sep<span class="w"> </span><span class="m">2016</span><span class="w"> </span><span class="m">10</span>:41:24<span class="w"> </span>PM<span class="w"> </span>CEST<span class="w"> </span>using<span class="w"> </span>RSA<span class="w"> </span>key<span class="w"> </span>ID<span class="w"> </span>86C3DFDD
gpg:<span class="w"> </span>Good<span class="w"> </span>signature<span class="w"> </span>from<span class="w"> </span><span class="s2">&quot;Testkey&quot;</span><span class="w"> </span><span class="o">[</span>ultimate<span class="o">]</span>
</pre></div>
</div>
<p>Signature validation can also be integrated into higher level software such as the optional <code class="code docutils literal notranslate"><span class="pre">appimaged</span></code> daemon and/or <code class="code docutils literal notranslate"><span class="pre">AppImageUpdate</span></code>. For example the <code class="code docutils literal notranslate"><span class="pre">appimaged</span></code> daemon may decide to run applications without a valid signature in a confined sandbox in the future, if the system is set up accordingly.</p>
<div class="admonition-todo admonition" id="id1">
<p class="admonition-title">待处理</p>
<p>It may be desirable to integrate validate functionality into <code class="code docutils literal notranslate"><span class="pre">libappimage</span></code> and into tools like <code class="code docutils literal notranslate"><span class="pre">appimagetool</span></code>, the optional <code class="code docutils literal notranslate"><span class="pre">appimaged</span></code> demon and/or <code class="code docutils literal notranslate"><span class="pre">AppImageUpdate</span></code>.</p>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="页脚">
        <a href="updates.html" class="btn btn-neutral float-left" title="Making AppImages updateable" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> 上一页</a>
        <a href="appstream.html" class="btn btn-neutral float-right" title="AppStream metadata" accesskey="n" rel="next">下一页 <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; 版权所有 2018-2022, The AppImage project。
      <span class="commit">版本 <code>475547d</code>.
      </span></p>
  </div>

  利用 <a href="https://www.sphinx-doc.org/">Sphinx</a> 构建，使用的 
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">主题</a>
    由 <a href="https://readthedocs.org">Read the Docs</a> 开发.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>